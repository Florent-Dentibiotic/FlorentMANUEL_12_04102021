{"ast":null,"code":"var _jsxFileName = \"/Users/florent/Documents/Websites/FlorentMANUEL_12_04102021/src/components/LineChart.jsx\",\n    _s = $RefreshSig$();\n\nimport * as d3 from 'd3';\nimport { useEffect, useState } from 'react';\nimport LineChartD3 from '../D3/LineChartD3';\nimport useFetchSessions from '../services/SessionsService';\nimport { useParams } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction LineChart(sessionData) {\n  _s();\n\n  //onst [SvgSessions, setSvgWeight] = useState()\n  const {\n    userId\n  } = useParams();\n  const {\n    sessionsData,\n    sessionsLoaded\n  } = useFetchSessions(userId.slice(-2)); // useEffect(() => {\n  //     let x = d3.scaleLinear().domain([1, 7]).range([0, 250])\n  //     let y = d3\n  //         .scaleLinear()\n  //         .domain([\n  //             d3.min(sessionData.sessionData, (d) => d.sessionLength) - 5,\n  //             d3.max(sessionData.sessionData, (d) => d.sessionLength),\n  //         ])\n  //         .range([100, 0])\n  //     let valueLine = d3\n  //         .line()\n  //         .x(function (d) {\n  //             return x(d.day)\n  //         })\n  //         .y(function (d) {\n  //             return y(d.sessionLength)\n  //         })\n  //         .curve(d3.curveBumpX)\n  //     const SvgWeightCreation = () => {\n  //         const svg = d3.select('.session-box').style('border-radius', '5px')\n  //         const path = svg\n  //             .append('g')\n  //             .attr('transform', 'translate(0, 100)')\n  //             .append('path')\n  //             .attr('fill', 'none')\n  //             .attr('stroke', '#fff')\n  //             .attr('stroke-width', '2px')\n  //             .attr('stroke-dasharray', 250)\n  //             .attr('stroke-dashoffset', 250)\n  //             .attr('d', valueLine(sessionData.sessionData))\n  //         path.transition()\n  //             .duration(600)\n  //             .attr('stroke-dasharray', 0)\n  //             .attr('stroke-dashoffset', 0)\n  //         /* MOUSE OVER ANIMATIONS */\n  //         sessionData.sessionData.map((data, index) => {\n  //             const animations = svg.append('g')\n  //             animations\n  //                 .append('circle')\n  //                 .attr('id', 'circle' + index)\n  //                 .attr('cx', function (d) {\n  //                     return x(data.day)\n  //                 })\n  //                 .attr('cy', function (d) {\n  //                     return y(data.sessionLength)\n  //                 })\n  //                 .attr('r', 4)\n  //                 .attr('fill', 'white')\n  //                 .attr('transform', 'translate(0, 100)')\n  //                 .attr('opacity', '0')\n  //             animations\n  //                 .append('rect')\n  //                 .attr('id', 'infos' + index)\n  //                 .attr('height', 25)\n  //                 .attr('width', 39)\n  //                 .attr('fill', '#fff')\n  //                 .attr('x', function (d) {\n  //                     return x(data.day)\n  //                 })\n  //                 .attr('y', function (d) {\n  //                     return y(data.sessionLength)\n  //                 })\n  //                 .attr('transform', 'translate(0, 70)')\n  //                 .attr('opacity', 0)\n  //             animations\n  //                 .append('text')\n  //                 .attr('id', 'time' + index)\n  //                 .text(data.sessionLength + ' min')\n  //                 .attr('font-size', '8')\n  //                 .attr('fill', 'black')\n  //                 .attr('x', function (d) {\n  //                     return x(data.day)\n  //                 })\n  //                 .attr('y', function (d) {\n  //                     return y(data.sessionLength)\n  //                 })\n  //                 .attr('transform', 'translate(7, 85)')\n  //                 .attr('opacity', 0)\n  //             animations\n  //                 .append('rect')\n  //                 .attr('height', 250)\n  //                 .attr('width', 250 - index * 41.5)\n  //                 .attr('fill', '#000000')\n  //                 .attr('x', function (d) {\n  //                     return index * 41.5\n  //                 })\n  //                 .attr('opacity', 0)\n  //                 .on('mouseover', function () {\n  //                     d3.select(this)\n  //                         .transition()\n  //                         .duration('150')\n  //                         .attr('opacity', '.2')\n  //                     d3.select(`#circle${index}`)\n  //                         .transition()\n  //                         .duration('150')\n  //                         .attr('opacity', '1')\n  //                     d3.select(`#infos${index}`)\n  //                         .transition()\n  //                         .duration('150')\n  //                         .attr('opacity', '1')\n  //                     d3.select(`#time${index}`)\n  //                         .transition()\n  //                         .duration('150')\n  //                         .attr('opacity', '1')\n  //                 })\n  //                 .on('mouseout', function () {\n  //                     d3.select(this)\n  //                         .transition()\n  //                         .duration('150')\n  //                         .attr('opacity', '0')\n  //                     d3.select(`#circle${index}`)\n  //                         .transition()\n  //                         .duration('150')\n  //                         .attr('opacity', '0')\n  //                     d3.select(`#infos${index}`)\n  //                         .transition()\n  //                         .duration('150')\n  //                         .attr('opacity', '0')\n  //                     d3.select(`#time${index}`)\n  //                         .transition()\n  //                         .duration('150')\n  //                         .attr('opacity', '0')\n  //                 })\n  //             // eslint-disable-next-line array-callback-return\n  //             return\n  //         })\n  //     }\n  //     setSvgWeight(SvgWeightCreation)\n  // }, [SvgSessions, sessionData.sessionData])\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"session-box bg-red-600 rounded\",\n      width: \"250\",\n      height: \"250\",\n      children: [sessionsLoaded && /*#__PURE__*/_jsxDEV(LineChartD3, {\n        data: sessionsData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"32\",\n        y: \"50\",\n        fill: \"#FFFFFF\",\n        fontSize: \"15\",\n        className: \"opacity-50\",\n        children: \"Dur\\xE9e moyenne des\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"32\",\n        y: \"80\",\n        fill: \"#FFFFFF\",\n        fontSize: \"15\",\n        className: \"opacity-50\",\n        children: \"sessions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"21\",\n        y: \"225\",\n        fill: \"#FFFFFF\",\n        fontSize: \"12\",\n        className: \"opacity-50\",\n        children: \"L\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"55\",\n        y: \"225\",\n        fill: \"#FFFFFF\",\n        fontSize: \"12\",\n        className: \"opacity-50\",\n        children: \"M\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"89\",\n        y: \"225\",\n        fill: \"#FFFFFF\",\n        fontSize: \"12\",\n        className: \"opacity-50\",\n        children: \"M\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"123\",\n        y: \"225\",\n        fill: \"#FFFFFF\",\n        fontSize: \"12\",\n        className: \"opacity-50\",\n        children: \"J\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"157\",\n        y: \"225\",\n        fill: \"#FFFFFF\",\n        fontSize: \"12\",\n        className: \"opacity-50\",\n        children: \"V\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"191\",\n        y: \"225\",\n        fill: \"#FFFFFF\",\n        fontSize: \"12\",\n        className: \"opacity-50\",\n        children: \"S\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"225\",\n        y: \"225\",\n        fill: \"#FFFFFF\",\n        fontSize: \"12\",\n        className: \"opacity-50\",\n        children: \"D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(LineChart, \"Wh8c/AD1+RyZmUS8+Clv0COY4SQ=\", false, function () {\n  return [useParams, useFetchSessions];\n});\n\n_c = LineChart;\nexport default LineChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"LineChart\");","map":{"version":3,"sources":["/Users/florent/Documents/Websites/FlorentMANUEL_12_04102021/src/components/LineChart.jsx"],"names":["d3","useEffect","useState","LineChartD3","useFetchSessions","useParams","LineChart","sessionData","userId","sessionsData","sessionsLoaded","slice"],"mappings":";;;AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,gBAAP,MAA6B,6BAA7B;AACA,SAASC,SAAT,QAA0B,cAA1B;;;;AAEA,SAASC,SAAT,CAAmBC,WAAnB,EAAgC;AAAA;;AAC5B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAaH,SAAS,EAA5B;AACA,QAAM;AAAEI,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAmCN,gBAAgB,CAACI,MAAM,CAACG,KAAP,CAAa,CAAC,CAAd,CAAD,CAAzD,CAH4B,CAK5B;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBACI;AAAA,2BACI;AACI,MAAA,SAAS,EAAC,gCADd;AAEI,MAAA,KAAK,EAAC,KAFV;AAGI,MAAA,MAAM,EAAC,KAHX;AAAA,iBAKKD,cAAc,iBAAI,QAAC,WAAD;AAAa,QAAA,IAAI,EAAED;AAAnB;AAAA;AAAA;AAAA;AAAA,cALvB,eAMI;AACI,QAAA,CAAC,EAAC,IADN;AAEI,QAAA,CAAC,EAAC,IAFN;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,QAAQ,EAAC,IAJb;AAKI,QAAA,SAAS,EAAC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAeI;AACI,QAAA,CAAC,EAAC,IADN;AAEI,QAAA,CAAC,EAAC,IAFN;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,QAAQ,EAAC,IAJb;AAKI,QAAA,SAAS,EAAC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ,eAwBI;AACI,QAAA,CAAC,EAAC,IADN;AAEI,QAAA,CAAC,EAAC,KAFN;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,QAAQ,EAAC,IAJb;AAKI,QAAA,SAAS,EAAC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBJ,eAiCI;AACI,QAAA,CAAC,EAAC,IADN;AAEI,QAAA,CAAC,EAAC,KAFN;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,QAAQ,EAAC,IAJb;AAKI,QAAA,SAAS,EAAC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjCJ,eA0CI;AACI,QAAA,CAAC,EAAC,IADN;AAEI,QAAA,CAAC,EAAC,KAFN;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,QAAQ,EAAC,IAJb;AAKI,QAAA,SAAS,EAAC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA1CJ,eAmDI;AACI,QAAA,CAAC,EAAC,KADN;AAEI,QAAA,CAAC,EAAC,KAFN;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,QAAQ,EAAC,IAJb;AAKI,QAAA,SAAS,EAAC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnDJ,eA4DI;AACI,QAAA,CAAC,EAAC,KADN;AAEI,QAAA,CAAC,EAAC,KAFN;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,QAAQ,EAAC,IAJb;AAKI,QAAA,SAAS,EAAC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA5DJ,eAqEI;AACI,QAAA,CAAC,EAAC,KADN;AAEI,QAAA,CAAC,EAAC,KAFN;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,QAAQ,EAAC,IAJb;AAKI,QAAA,SAAS,EAAC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArEJ,eA8EI;AACI,QAAA,CAAC,EAAC,KADN;AAEI,QAAA,CAAC,EAAC,KAFN;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,QAAQ,EAAC,IAJb;AAKI,QAAA,SAAS,EAAC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA9EJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AA4FH;;GA7OQH,S;UAEcD,S,EACsBD,gB;;;KAHpCE,S;AA+OT,eAAeA,SAAf","sourcesContent":["import * as d3 from 'd3'\nimport { useEffect, useState } from 'react'\nimport LineChartD3 from '../D3/LineChartD3'\nimport useFetchSessions from '../services/SessionsService'\nimport { useParams } from 'react-router'\n\nfunction LineChart(sessionData) {\n    //onst [SvgSessions, setSvgWeight] = useState()\n    const { userId } = useParams()\n    const { sessionsData, sessionsLoaded } = useFetchSessions(userId.slice(-2))\n\n    // useEffect(() => {\n    //     let x = d3.scaleLinear().domain([1, 7]).range([0, 250])\n\n    //     let y = d3\n    //         .scaleLinear()\n    //         .domain([\n    //             d3.min(sessionData.sessionData, (d) => d.sessionLength) - 5,\n    //             d3.max(sessionData.sessionData, (d) => d.sessionLength),\n    //         ])\n    //         .range([100, 0])\n\n    //     let valueLine = d3\n    //         .line()\n    //         .x(function (d) {\n    //             return x(d.day)\n    //         })\n    //         .y(function (d) {\n    //             return y(d.sessionLength)\n    //         })\n    //         .curve(d3.curveBumpX)\n\n    //     const SvgWeightCreation = () => {\n    //         const svg = d3.select('.session-box').style('border-radius', '5px')\n\n    //         const path = svg\n    //             .append('g')\n    //             .attr('transform', 'translate(0, 100)')\n    //             .append('path')\n    //             .attr('fill', 'none')\n    //             .attr('stroke', '#fff')\n    //             .attr('stroke-width', '2px')\n    //             .attr('stroke-dasharray', 250)\n    //             .attr('stroke-dashoffset', 250)\n    //             .attr('d', valueLine(sessionData.sessionData))\n    //         path.transition()\n    //             .duration(600)\n    //             .attr('stroke-dasharray', 0)\n    //             .attr('stroke-dashoffset', 0)\n\n    //         /* MOUSE OVER ANIMATIONS */\n    //         sessionData.sessionData.map((data, index) => {\n    //             const animations = svg.append('g')\n\n    //             animations\n    //                 .append('circle')\n    //                 .attr('id', 'circle' + index)\n    //                 .attr('cx', function (d) {\n    //                     return x(data.day)\n    //                 })\n    //                 .attr('cy', function (d) {\n    //                     return y(data.sessionLength)\n    //                 })\n    //                 .attr('r', 4)\n    //                 .attr('fill', 'white')\n    //                 .attr('transform', 'translate(0, 100)')\n    //                 .attr('opacity', '0')\n\n    //             animations\n    //                 .append('rect')\n    //                 .attr('id', 'infos' + index)\n    //                 .attr('height', 25)\n    //                 .attr('width', 39)\n    //                 .attr('fill', '#fff')\n    //                 .attr('x', function (d) {\n    //                     return x(data.day)\n    //                 })\n    //                 .attr('y', function (d) {\n    //                     return y(data.sessionLength)\n    //                 })\n    //                 .attr('transform', 'translate(0, 70)')\n    //                 .attr('opacity', 0)\n\n    //             animations\n    //                 .append('text')\n    //                 .attr('id', 'time' + index)\n    //                 .text(data.sessionLength + ' min')\n    //                 .attr('font-size', '8')\n    //                 .attr('fill', 'black')\n    //                 .attr('x', function (d) {\n    //                     return x(data.day)\n    //                 })\n    //                 .attr('y', function (d) {\n    //                     return y(data.sessionLength)\n    //                 })\n    //                 .attr('transform', 'translate(7, 85)')\n    //                 .attr('opacity', 0)\n\n    //             animations\n    //                 .append('rect')\n    //                 .attr('height', 250)\n    //                 .attr('width', 250 - index * 41.5)\n    //                 .attr('fill', '#000000')\n    //                 .attr('x', function (d) {\n    //                     return index * 41.5\n    //                 })\n    //                 .attr('opacity', 0)\n    //                 .on('mouseover', function () {\n    //                     d3.select(this)\n    //                         .transition()\n    //                         .duration('150')\n    //                         .attr('opacity', '.2')\n    //                     d3.select(`#circle${index}`)\n    //                         .transition()\n    //                         .duration('150')\n    //                         .attr('opacity', '1')\n    //                     d3.select(`#infos${index}`)\n    //                         .transition()\n    //                         .duration('150')\n    //                         .attr('opacity', '1')\n    //                     d3.select(`#time${index}`)\n    //                         .transition()\n    //                         .duration('150')\n    //                         .attr('opacity', '1')\n    //                 })\n    //                 .on('mouseout', function () {\n    //                     d3.select(this)\n    //                         .transition()\n    //                         .duration('150')\n    //                         .attr('opacity', '0')\n    //                     d3.select(`#circle${index}`)\n    //                         .transition()\n    //                         .duration('150')\n    //                         .attr('opacity', '0')\n    //                     d3.select(`#infos${index}`)\n    //                         .transition()\n    //                         .duration('150')\n    //                         .attr('opacity', '0')\n    //                     d3.select(`#time${index}`)\n    //                         .transition()\n    //                         .duration('150')\n    //                         .attr('opacity', '0')\n    //                 })\n\n    //             // eslint-disable-next-line array-callback-return\n    //             return\n    //         })\n    //     }\n    //     setSvgWeight(SvgWeightCreation)\n    // }, [SvgSessions, sessionData.sessionData])\n\n    return (\n        <>\n            <svg\n                className=\"session-box bg-red-600 rounded\"\n                width=\"250\"\n                height=\"250\"\n            >\n                {sessionsLoaded && <LineChartD3 data={sessionsData} />}\n                <text\n                    x=\"32\"\n                    y=\"50\"\n                    fill=\"#FFFFFF\"\n                    fontSize=\"15\"\n                    className=\"opacity-50\"\n                >\n                    Durée moyenne des\n                </text>\n                <text\n                    x=\"32\"\n                    y=\"80\"\n                    fill=\"#FFFFFF\"\n                    fontSize=\"15\"\n                    className=\"opacity-50\"\n                >\n                    sessions\n                </text>\n                <text\n                    x=\"21\"\n                    y=\"225\"\n                    fill=\"#FFFFFF\"\n                    fontSize=\"12\"\n                    className=\"opacity-50\"\n                >\n                    L\n                </text>\n                <text\n                    x=\"55\"\n                    y=\"225\"\n                    fill=\"#FFFFFF\"\n                    fontSize=\"12\"\n                    className=\"opacity-50\"\n                >\n                    M\n                </text>\n                <text\n                    x=\"89\"\n                    y=\"225\"\n                    fill=\"#FFFFFF\"\n                    fontSize=\"12\"\n                    className=\"opacity-50\"\n                >\n                    M\n                </text>\n                <text\n                    x=\"123\"\n                    y=\"225\"\n                    fill=\"#FFFFFF\"\n                    fontSize=\"12\"\n                    className=\"opacity-50\"\n                >\n                    J\n                </text>\n                <text\n                    x=\"157\"\n                    y=\"225\"\n                    fill=\"#FFFFFF\"\n                    fontSize=\"12\"\n                    className=\"opacity-50\"\n                >\n                    V\n                </text>\n                <text\n                    x=\"191\"\n                    y=\"225\"\n                    fill=\"#FFFFFF\"\n                    fontSize=\"12\"\n                    className=\"opacity-50\"\n                >\n                    S\n                </text>\n                <text\n                    x=\"225\"\n                    y=\"225\"\n                    fill=\"#FFFFFF\"\n                    fontSize=\"12\"\n                    className=\"opacity-50\"\n                >\n                    D\n                </text>\n            </svg>\n        </>\n    )\n}\n\nexport default LineChart\n"]},"metadata":{},"sourceType":"module"}