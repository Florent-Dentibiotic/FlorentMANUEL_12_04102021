{"ast":null,"code":"import _regeneratorRuntime from\"/Users/florent/Documents/Websites/FlorentMANUEL_12_04102021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/florent/Documents/Websites/FlorentMANUEL_12_04102021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/florent/Documents/Websites/FlorentMANUEL_12_04102021/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import UserActivitiesMapper from'../mapper/UserActivitiesMapper';/**\n * Custom Hook to Fetch Activities Data\n *\n * @param { number } id\n * @return { activitiesData, activitiesLoaded, errorActivities }\n */function useFetchActivities(id){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),errorActivities=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),activitiesLoaded=_useState4[0],setIsLoaded=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),activitiesData=_useState6[0],setActivitiesData=_useState6[1];useEffect(function(){function fetchUser(){return _fetchUser.apply(this,arguments);}function _fetchUser(){_fetchUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_yield$response$json,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"../\".concat(id,\"/activity.json\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:_yield$response$json=_context.sent;data=_yield$response$json.data;setActivitiesData(UserActivitiesMapper.convertToActivities(data));_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setError(true);case 15:_context.prev=15;setIsLoaded(true);return _context.finish(15);case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,11,15,18]]);}));return _fetchUser.apply(this,arguments);}fetchUser();},[id]);return{activitiesData:activitiesData,activitiesLoaded:activitiesLoaded,errorActivities:errorActivities};}export default useFetchActivities;","map":{"version":3,"sources":["/Users/florent/Documents/Websites/FlorentMANUEL_12_04102021/src/services/ActivityService.jsx"],"names":["useState","useEffect","UserActivitiesMapper","useFetchActivities","id","errorActivities","setError","activitiesLoaded","setIsLoaded","activitiesData","setActivitiesData","fetchUser","fetch","response","json","data","convertToActivities","console","log"],"mappings":"mhBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,oBAAP,KAAiC,gCAAjC,CAEA;AACA;AACA;AACA;AACA;AACA,GAEA,QAASC,CAAAA,kBAAT,CAA4BC,EAA5B,CAAgC,eACQJ,QAAQ,CAAC,IAAD,CADhB,wCACrBK,eADqB,eACJC,QADI,8BAEYN,QAAQ,CAAC,KAAD,CAFpB,yCAErBO,gBAFqB,eAEHC,WAFG,8BAGgBR,QAAQ,CAAC,EAAD,CAHxB,yCAGrBS,cAHqB,eAGLC,iBAHK,eAK5BT,SAAS,CAAC,UAAM,SACGU,CAAAA,SADH,qIACZ,gNAM+BC,CAAAA,KAAK,cAAOR,EAAP,mBANpC,QAMcS,QANd,qCAO+BA,CAAAA,QAAQ,CAACC,IAAT,EAP/B,2CAOgBC,IAPhB,sBAOgBA,IAPhB,CAQQL,iBAAiB,CACbR,oBAAoB,CAACc,mBAArB,CAAyCD,IAAzC,CADa,CAAjB,CARR,iFAYQE,OAAO,CAACC,GAAR,cACAZ,QAAQ,CAAC,IAAD,CAAR,CAbR,yBAeQE,WAAW,CAAC,IAAD,CAAX,CAfR,sGADY,4CAmBZG,SAAS,GACZ,CApBQ,CAoBN,CAACP,EAAD,CApBM,CAAT,CAsBA,MAAO,CACHK,cAAc,CAAdA,cADG,CAEHF,gBAAgB,CAAhBA,gBAFG,CAGHF,eAAe,CAAfA,eAHG,CAAP,CAKH,CAED,cAAeF,CAAAA,kBAAf","sourcesContent":["import { useState, useEffect } from 'react'\nimport UserActivitiesMapper from '../mapper/UserActivitiesMapper'\n\n/**\n * Custom Hook to Fetch Activities Data\n *\n * @param { number } id\n * @return { activitiesData, activitiesLoaded, errorActivities }\n */\n\nfunction useFetchActivities(id) {\n    const [errorActivities, setError] = useState(null)\n    const [activitiesLoaded, setIsLoaded] = useState(false)\n    const [activitiesData, setActivitiesData] = useState({})\n\n    useEffect(() => {\n        async function fetchUser() {\n            try {\n                // const response = await fetch(\n                //     `http://localhost:3000/user/${id}/activity`\n                // )\n                //** MOCK LINK **\n                const response = await fetch(`../${id}/activity.json`)\n                const { data } = await response.json()\n                setActivitiesData(\n                    UserActivitiesMapper.convertToActivities(data)\n                )\n            } catch (err) {\n                console.log(err)\n                setError(true)\n            } finally {\n                setIsLoaded(true)\n            }\n        }\n        fetchUser()\n    }, [id])\n\n    return {\n        activitiesData,\n        activitiesLoaded,\n        errorActivities,\n    }\n}\n\nexport default useFetchActivities\n"]},"metadata":{},"sourceType":"module"}